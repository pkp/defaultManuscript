/**
 * @file styles/objects/issue_toc.less
 *
 * Copyright (c) 2014-2020 Simon Fraser University
 * Copyright (c) 2003-2020 John Willinsky
 * Distributed under the GNU GPL v2. For full terms see the file docs/COPYING.
 *
 * @brief Styles applying to an issue table of contents view
 * @link templates/frontend/objects/issue_toc.tpl
 */
.obj_issue_toc {

	.heading .pub_id,
	.heading .published {
		font-family: @font-heading;
		font-size: @font-sml;
	}

	.heading .pub_id .type,
	.heading .published .label {
		font-weight: @bold;
		color: @text-light;
		text-transform: uppercase;
	}

	.heading .pub_id .id,
	.heading .published .value {
		margin-left: 0.5em;
	}

	.heading .pub_id .id a {
		color: @text;
		text-decoration: none;

		&:hover,
		&:focus {
			color: @primary-lift;
			text-decoration: underline;
		}
	}

	> .galleys,
	.section {
		margin: 0;
		padding: 0;
		border: none;

		&:before {
			display: none;
		}

		h2 {
			position: relative;
			display: inline-block;
			top: auto;
			left: auto;
			padding: 0 0 @half;
			border-bottom: 3px solid @accent;
			background: transparent;
			text-transform: uppercase;
			font-weight: @bold;
		}
	}

	.galleys_links li {
		margin-bottom: 0.5em;
	}

	.pages {
		font-family: @font-heading;
	}

	.cover img {
		margin-left: auto;
		margin-right: auto;
	}

	// Apply grid layout to the container of article summaries within a section
	// Note: If .section directly contains both h2 and article summaries,
	// the h2 will also be a grid item. Ideally, article summaries are wrapped
	// in a dedicated child container (e.g., <div class="articles_in_section">).
	.section {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
		gap: @double; // Use the same as article_summary margin-bottom for consistency

		// Ensure h2 spans full width if it's part of this grid
		> h2 {
			grid-column: 1 / -1; // Make h2 span all columns
			margin-bottom: @base; // Ensure space below h2 before articles
		}

		// Reset margin for article summaries if grid gap handles spacing
		> .obj_article_summary {
			margin-bottom: 0; // Grid gap will handle spacing
		}
	}
}
