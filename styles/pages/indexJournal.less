/**
 * @file  plugins/themes/default/styles/pages/indexJournal.less
 *
 * Copyright (c) 2014-2020 Simon Fraser University
 * Copyright (c) 2003-2020 John Willinsky
 * Distributed under the GNU GPL v2. For full terms see the file docs/COPYING.
 *
 * @brief Styles applying to the front page of the journal
 * @link templates/frontend/pages/indexJournal.tpl
 */
.pkp_page_index {

	.homepage_image {
		margin-top: -1px; // covers up the border
	}

	.cmp_announcements {
		border: none;

		@media(min-width: @screen-tablet) {

			> .more:before,
			> .obj_announcement_summary:before {
				display: none; // Hide the right column border
			}
		}

	    @media(min-width: @screen-desktop) {

	        h2 + .obj_announcement_summary, // first announcement only
	        .more {
	            padding-top: 80px;
	            padding-bottom: 80px;
	        }

	        .more .obj_announcement_summary {
	            padding-top: 0;
	            padding-bottom: 0;
	            margin-bottom: @double;

	            &:last-child {
	                margin-bottom: 0;
	            }
	        }
	    }

		@media(min-width: @screen-lg-desktop) {
			border-bottom: @bg-border;

			> .more:before,
			> .obj_announcement_summary:before {
				display: block; // Show the right column border
			}
		}
	}

	.current_issue {

		h2 {
			display: inline-block;
			padding-bottom: 0.5em;
			border-bottom: 3px solid @accent;
			text-transform: uppercase;
			font-weight: @bold;
			color: @text-light;
		}

		.current_issue_title {
			font-family: @font-heading;
			font-size: @font-bump;
		}

		.sections {
			margin-top: @double;
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			gap: @double;

			// Reset margin for article summaries if grid gap handles spacing
			// Assuming .obj_article_summary are direct children or within a wrapper that's a direct child
			.obj_article_summary {
				margin-bottom: 0; // Grid gap will handle spacing
			}
		}

		.read_more {
	        font-family: @font-heading;
	        font-weight: @bold;
			text-transform: uppercase;
		}
	}
}

// Remove borders when no sidebar is active
.pkp_structure_main:first-child:last-child {

	.cmp_announcements {
		border-bottom: none;

		> .more:before,
		> .obj_announcement_summary:before {
			display: none;
		}
	}

	.additional_content {
		border-top: none;
	}
}
